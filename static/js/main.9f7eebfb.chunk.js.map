{"version":3,"sources":["components/Header.jsx","components/Cart.jsx","components/Content.jsx","App.js","models/cart.js","api/index.js","models/products.js","index.js"],"names":["SubMenu","Menu","connect","products","data","staticData","shopData","dispatch","sortGoods","key","a","type","payload","product","bol","sortBySize","className","xs","sm","md","lg","style","color","fontWeight","length","theme","mode","title","fontSize","map","item","Item","onClick","icon","ProjectOutlined","cart","useState","visible","setVisible","check","setCheck","total","reduce","price","quantity","toFixed","useEffect","window","localStorage","ShoppingCartOutlined","placement","closable","onClose","width","footer","height","position","message","warn","disabled","headerStyle","textAlign","backgroundColor","bodyStyle","footerStyle","itemLayout","dataSource","renderItem","index","src","sku","size","description","id","Meta","Card","cartData","load","setLoad","page","console","log","shopList","marginTop","hoverable","cover","alt","isFreeShipping","toString","split","content","availableSizes","installments","product_id","error","success","block","trigger","justify","margin","IndexPage","Content","namespace","state","effects","addCart","put","setStorage","cdata","_data","JSON","parse","settlementData","decreaseNum","increaseNum","removeCart","reducers","saveItem","newData","finded","find","storage","stringify","setItem","removeGood","splice","increment","findIndex","storageData","settlement","checkout","cutOne","getProducts","Promise","resolve","setTimeout","fetch","call","api","res","sortDatas","forEach","i","push","sort","b","saveData","saveShopdata","addOne","setData","app","dva","history","createHistory","router","model","start"],"mappings":"wkIAOQA,G,OAAYC,IAAZD,SAgEOE,qBALS,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,MAAmB,CACzCA,SAAUA,EAASC,KACnBC,WAAYF,EAASG,YAGRJ,EA9DA,SAAC,GAAuC,IAArCK,EAAoC,EAApCA,SAAUJ,EAA0B,EAA1BA,SAASE,EAAiB,EAAjBA,WAE7BG,EAAS,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACVH,EAAS,CACbI,KAAM,qBACNC,QAAS,CACPC,QAASV,EACTM,MACAK,KAAI,KANQ,2CAAH,sDAUTC,EAAU,uCAAG,WAAMN,GAAN,SAAAC,EAAA,sEACXH,EAAS,CACbI,KAAM,qBACNC,QAAS,CACPC,QAASR,EACTI,MACAK,KAAI,KANS,2CAAH,sDAUhB,OACE,eAAC,IAAD,CAAMH,KAAK,OAASK,UAAU,SAA9B,UACE,eAAC,IAAD,CAAKC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAIJ,UAAU,aAA7C,UACE,sBAAMK,MAAO,CAACC,MAAM,MAAMC,WAAW,OAArC,SAA8CpB,EAASqB,SADzD,qBAIA,cAAC,IAAD,CAAKP,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,EAAIJ,UAAU,cAA/C,SACE,eAAC,IAAD,CAAMS,MAAM,QAAQC,KAAK,aAAzB,UACE,cAAC1B,EAAD,CACE2B,MAAM,iBACNN,MAAO,CAAEC,MAAO,OAAQM,SAAU,QAFpC,SA7BS,CAAC,IAAI,IAAI,IAAI,KAAK,OAiCfC,KAAI,SAACC,GAAD,OAAW,cAAC,IAAKC,KAAN,CAA4BC,QAAS,kBAAMjB,EAAW,GAAD,OAAIe,KAAzD,SAAoEA,GAApDA,EAAO,UAElD,eAAC9B,EAAD,CACEiC,KAAM,cAACC,EAAA,EAAD,IACNb,MAAO,CAAEC,MAAO,OAAQM,SAAU,QAClCD,MAAM,WAHR,UAKE,cAAC,IAAKI,KAAN,CAA2BC,QAAS,kBAAMxB,EAAU,KAApD,yBAAe,aAGf,cAAC,IAAKuB,KAAN,CAA2BC,QAAS,kBAAMxB,EAAU,QAApD,qCAAe,aAGf,cAAC,IAAKuB,KAAN,CAA2BC,QAAS,kBAAMxB,EAAU,SAApD,qCAAe,2B,sDC+GZN,qBAHS,SAAC,GAAD,MAAe,CACrCiC,KADsB,EAAGA,KACd/B,QAEEF,EA/JF,SAAC,GAAwB,IAAtBiC,EAAqB,EAArBA,KAAM5B,EAAe,EAAfA,SAAe,EACL6B,oBAAS,GADJ,mBAC5BC,EAD4B,KACnBC,EADmB,OAETF,oBAAS,GAFA,mBAE5BG,EAF4B,KAErBC,EAFqB,KAU7BC,EAAQN,EACXO,QAAO,SAACD,EAAOX,GAAR,OAAiBW,EAAQX,EAAKjB,QAAQ8B,MAAQb,EAAKc,WAAU,GACpEC,QAAQ,GAOX,OALEC,qBAAU,WACLC,OAAOC,aAAa5C,MACrBG,EAAS,CAACI,KAAK,sBAEjB,IAEF,qCACE,yBAAQK,UAAU,UAAUgB,QAlBb,WACjBM,GAAW,IAiBT,UACE,cAACW,EAAA,EAAD,IAAwB,sBAAMjC,UAAU,YAAhB,SAA6BmB,EAAKX,YAE5D,qBAAKR,UAAU,UAAf,SACE,cAAC,IAAD,CACEW,MACE,gCACE,qBAAKX,UAAWqB,EAAU,YAAc,GAAxC,SACGF,EAAKX,SAER,uBAAMR,UAAU,YAAhB,UACE,cAACiC,EAAA,EAAD,IADF,aAMJC,UAAU,QACVC,UAAU,EACVC,QAjCQ,WACdd,GAAW,IAiCLD,QAASA,EACTgB,MAAO,MACPC,OACE,sBAAKjC,MAAO,CAAEkC,OAAQ,QAASC,SAAU,YAAzC,UACE,sBAAMxC,UAAU,aAAhB,qBACA,uBAAMA,UAAU,WAAhB,eAA8ByB,KAC9B,uBACA,wBACET,QAAS,WACP,GAAGO,EAGD,OAFAkB,IAAQC,KAAR,sBAAkBjB,EAAlB,2DACAD,GAAS,GAGTjC,EAAS,CACPI,KAAM,kBAER6B,GAAS,IAMbmB,SAA0B,IAAhBxB,EAAKX,OACfR,UAAU,WAjBZ,0BAuBJ4C,YAAa,CAAEC,UAAW,SAAUC,gBAAiB,WACrDC,UAAW,CAAED,gBAAiB,WAC9BE,YAAa,CAAEF,gBAAiB,UAAWxC,MAAO,QA/CpD,SAiDmB,IAAhBa,EAAKX,OACJ,oBAAIH,MAAO,CAAEC,MAAO,QAApB,0CAEA,8BACE,cAAC,IAAD,CACE2C,WAAW,aACXC,WAAY/B,EACZgC,WAAY,SAACrC,EAAMsC,GAAP,OACV,eAAC,IAAKrC,KAAN,WACE,cAAC,IAAD,CACEsC,IAAG,gBAAWvC,EAAKjB,QAAQyD,IAAxB,UACHtD,UAAU,YAEZ,sBAAKA,UAAU,SAAf,UACGc,EAAKjB,QAAQc,MACd,uBACA,iCACGG,EAAKyC,KADR,MACiBzC,EAAKjB,QAAQ2D,eAE9B,uBACA,8CAAiB1C,EAAKc,eAExB,gCACE,wBACE5B,UAAU,SACVgB,QAAS,WACPzB,EAAS,CACPI,KAAM,kBACNC,QAAS,CACPwD,MAAOA,EACPxB,SAASd,EAAKc,aAPtB,eAcA,oBAAG5B,UAAU,aAAb,cAA4Bc,EAAKjB,QAAQ8B,SACzC,8BACE,wBACE3B,UAAU,eACVgB,QAAS,WACPzB,EAAS,CACPI,KAAM,mBACNC,QAAS,CACP6D,GAAI3C,EAAK2C,GACTF,KAAMzC,EAAKyC,KACX9D,KAAM,MARd,eAeA,wBACEO,UAAU,eACVgB,QAAS,WACPzB,EAAS,CACPI,KAAM,mBACNC,QAAS,CACP6D,GAAI3C,EAAK2C,GACTF,KAAMzC,EAAKyC,KACX9D,IAAK,MARb,uBA9CUqB,EAAKwC,oB,oCCpF/BI,EAASC,IAATD,KA2HOxE,qBALS,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAASgC,EAAZ,EAAYA,KAAZ,MAAwB,CAC9ChC,SAAUA,EAASC,KACnBwE,SAAUzC,EAAK/B,QAGFF,EAzHE,SAAC,GAAqC,IAAnCK,EAAkC,EAAlCA,SAAUJ,EAAwB,EAAxBA,SAASyE,EAAe,EAAfA,SAAe,EAE7BxC,mBAAS,GAFoB,mBAE7CyC,EAF6C,KAExCC,EAFwC,KAGpDhC,qBAAU,WACRvC,EAAS,CACPI,KAAM,iBACNC,QAAQ,OAEV,CAACgE,IAEH9B,oBAAS,sBAAC,sBAAApC,EAAA,sEACFoE,EAAQ,GADN,uBAEFvE,EAAS,CACbI,KAAM,iBACNC,QAAS,CAACmE,KAAK,KAJT,cAMRC,QAAQC,IAAI,aACTlC,OAAOC,aAAa5C,MACrBG,EAAS,CAACI,KAAK,oBART,SAUFmE,EAAQ,GAVN,2CAYR,IAEF,IAAMI,GAAY/E,GAAY,IAAI0B,KAAI,SAACC,EAAKsC,GAC1C,OACE,cAAC,IAAD,CACEnD,GAAI,GACJC,GAAI,GACJC,GAAI,EACJC,GAAI,EAEJC,MAAO,CAAE8D,UAAW,QANtB,SAQE,eAAC,IAAD,CACEC,WAAS,EACTC,MAAO,qBAAKC,IAAI,KAAKjB,IAAG,gBAAWvC,EAAKwC,IAAhB,YACxBjD,MAAO,CAAEwC,UAAW,SAASL,SAAS,YAHxC,UAKG1B,EAAKyD,eACJ,sBAAMvE,UAAU,WAAhB,2BACD,GACD,cAAC0D,EAAD,CAAM/C,MAAOG,EAAKH,QAClB,sBAAMX,UAAU,cAAhB,sCACA,uBACA,sBAAMA,UAAU,QAAhB,eACA,sBAAMA,UAAU,WAAhB,SACGc,EAAKa,MAASb,EAAKa,MAAQ,IAE9B,sBAAM3B,UAAU,aAAhB,SACGc,EAAKa,MAAQ,IAAM,EAChB,GACA,IAAMb,EAAKa,MAAM6C,WAAWC,MAAM,KAAK,KAE7C,uBAEA,cAAC,IAAD,CACEC,QACE,cAAC,IAAD,CACEnB,KAAK,QACLL,WAAYpC,EAAK6D,eACjBxB,WAAY,SAACI,GAAD,OACV,cAAC,IAAKxC,KAAN,UACE,eAAC,IAAD,CACE4B,SAA8B,IAApB7B,EAAK8D,aACf5D,QAAS,WACPzB,EAAS,CACPI,KAAM,eACNC,QAAS,CACPiF,WAAY/D,EAAK2C,GACjB7B,SAAUd,EAAK8D,aAAe,EAAI,EAAI,EACtC/E,QAASiB,EACTyC,KAAMA,KAGY,IAAtBzC,EAAK8D,aACDnC,IAAQqC,MAAM,4BACdrC,IAAQsC,QAAQ,6BAEtBC,OAAK,EAhBP,UAkBGzB,EACAS,QAAQC,IAAInD,EAAK8D,aAAa,wBAMzCjE,MAAM,uCACNsE,QAAQ,QAjCV,SAmCE,wBACEtC,SAAgC,IAAtB7B,EAAK8D,aACf5E,UAAU,aAFZ,8BA5DCoD,MAyEX,OACE,cAAC,IAAD,CAAKzD,KAAK,OAAOuF,QAAQ,eAAe7E,MAAO,CAAE8E,OAAQ,eAAzD,SAEEtB,EACG,qBAAK7D,UAAU,UAAf,SACC,cAAC,IAAD,CAAMuD,KAAK,YACFW,OCpGJkB,MAVf,WACE,OACE,qCACE,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAACC,EAAD,Q,gBCZS,GACbC,UAAW,OACXC,MAAO,CACLnG,KAAM,IAERoG,QAAS,CACNC,QADM,mGAEL,OADS7F,EADJ,EACIA,QAAa8F,EADjB,EACiBA,IADjB,SAECA,EAAI,CAAE/F,KAAM,mBAAoBC,YAFjC,OAGL,OAHK,SAGC8F,EAAI,CAAE/F,KAAM,WAAYC,YAHzB,0CAKN+F,WALM,iGAML,OANK,EAKM/F,QAAU8F,EALhB,EAKgBA,IALhB,SAMCA,EAAK,CACT/F,KAAK,cACLiG,MAAM,CACJC,MAAOC,KAAKC,MAAMhE,OAAOC,aAAa5C,SATrC,0CAaN4G,eAbM,iGAcL,OAdK,EAaUpG,QAAU8F,EAbpB,EAaoBA,IAbpB,SAcCA,EAAI,CAAC/F,KAAK,eAdX,0CAgBNsG,YAhBM,mGAiBL,OADarG,EAhBR,EAgBQA,QAAW8F,EAhBnB,EAgBmBA,IAhBnB,SAiBCA,EAAI,CACR/F,KAAK,SACLC,YAnBG,OAqBL,OArBK,SAqBC8F,EAAI,CACR/F,KAAK,kBACLC,YAvBG,0CAyBJsG,YAzBI,mGA0BL,OADctG,EAzBT,EAyBSA,QAAW8F,EAzBpB,EAyBoBA,IAzBpB,SA0BCA,EAAK,CACT/F,KAAK,YACLC,YA5BG,0CA8BJuG,WA9BI,mGA+BL,OADavG,EA9BR,EA8BQA,QAAW8F,EA9BnB,EA8BmBA,IA9BnB,SA+BCA,EAAK,CACT/F,KAAK,aACLC,YAjCG,2CAqCTwG,SAAU,CACRC,SADQ,SACCd,EADD,GACsB,IAAZ3F,EAAW,EAAXA,QACTR,EAAQmG,EAARnG,KACHkH,EAAU,GACRC,EAASnH,EAAKoH,MAClB,SAAC1F,GAAD,OACEA,EAAK+D,aAAejF,EAAQiF,YAAc/D,EAAKyC,OAAS3D,EAAQ2D,QAEhEgD,GACFA,EAAO3E,UAAYhC,EAAQgC,SAC3B0E,EAAUlH,EAAKyB,KAAI,SAACC,GAAD,OACjBA,EAAK+D,aAAe0B,EAAO1B,YAAc/D,EAAKyC,OAASgD,EAAOhD,KAC1DgD,EACAzF,MAGNwF,EAAO,sBAAOlH,GAAP,CAAaQ,IAGtB,IAAM6G,EAAU1E,OAAOC,aACnB6D,EAAQC,KAAKY,UAAUtH,GAE3B,OADAqH,EAAQE,QAAQ,OAAOd,GAChB,CACLzG,KAAMkH,IAGVM,WA1BQ,SA0BGrB,EA1BH,GA0BwB,IAAZ3F,EAAW,EAAXA,QACXR,EAAQmG,EAARnG,KACPA,EAAKQ,EAAQwD,OAAOvD,QAAQ+E,cAAgBhF,EAAQgC,SACpDxC,EAAKyH,OAAOjH,EAAQwD,MAAO,GAC3BY,QAAQC,IAAI7E,GAGZ,IAAMqH,EAAU1E,OAAOC,aACnB6D,EAAQC,KAAKY,UAAUtH,GAE3B,OADAqH,EAAQE,QAAQ,OAAOd,GAChB,2BACFN,GADL,IAEEnG,KAAK,YAAKA,MAEd0H,UAxCQ,SAwCEvB,EAxCF,GAwCuB,IAAZ3F,EAAW,EAAXA,QACTR,EAASmG,EAATnG,KACFgE,EAAQhE,EAAK2H,WACjB,SAACjG,GAAD,OAAUA,EAAK2C,KAAO7D,EAAQ6D,IAAM3C,EAAKyC,OAAS3D,EAAQ2D,QAEnB,IAArCnE,EAAKgE,GAAOvD,QAAQ+E,aACtBnC,IAAQqC,MAAM,6BAEd1F,EAAKgE,GAAOxB,UAAYhC,EAAQH,IAChCL,EAAKgE,GAAOvD,QAAQ+E,cAAgBhF,EAAQH,KAE9C,IAAMgH,EAAU1E,OAAOC,aACnB6D,EAAQC,KAAKY,UAAUtH,GAG3B,OAFAqH,EAAQE,QAAQ,OAAOd,GAEhB,CAAEzG,KAAK,YAAKA,KAGrB4H,YA1DQ,SA0DIzB,EA1DJ,GA2DN,MAAO,CACLnG,KAFsB,EAAPwG,MAEJC,QAGfoB,WA/DQ,SA+DG1B,EA/DH,GA+DiB,IAAPnG,EAAM,EAANA,KACVqH,EAAU1E,OAAOC,aACnB6D,EAAQC,KAAKY,UAAUtH,GAG3B,OAFAqH,EAAQE,QAAQ,OAAOd,GAEvB,2BACKN,GADL,IAEEnG,KAAKA,EAAKyG,SAGdqB,SAzEQ,SAyEC3B,GAAQ,IACRnG,EAAQmG,EAARnG,KACPA,EAAKyH,OAAO,EAAEzH,EAAKoB,QACnB,IAAMiG,EAAU1E,OAAOC,aACnB6D,EAAQC,KAAKY,UAAUtH,GAE3B,OADAqH,EAAQE,QAAQ,OAAOd,GAChB,CACLzG,KAAK,YAAKA,KAGd+H,OAnFQ,SAmFD5B,EAnFC,GAmFgB,IAAV3F,EAAS,EAATA,QACJR,EAASmG,EAATnG,KACFgE,EAAQhE,EAAK2H,WACjB,SAACjG,GAAD,OAAUA,EAAK2C,KAAO7D,EAAQ6D,IAAM3C,EAAKyC,OAAS3D,EAAQ2D,QAE/B,IAAzBnE,EAAKgE,GAAOxB,SACda,IAAQqC,MAAM,mFAEd1F,EAAKgE,GAAOxB,UAAYhC,EAAQH,IAChCL,EAAKgE,GAAOvD,QAAQ+E,cAAgBhF,EAAQH,IAC5CuE,QAAQC,IAAI7E,EAAKgE,GAAOvD,QAAQ+E,eAElC,IAAM6B,EAAU1E,OAAOC,aACnB6D,EAAQC,KAAKY,UAAUtH,GAG3B,OAFAqH,EAAQE,QAAQ,OAAOd,GAEhB,CAAEzG,KAAK,YAAKA,O,SC3IZgI,EAAc,WACzB,OAAO,IAAIC,SAAQ,SAACC,GAClBC,YAAW,kBAAMD,EAAQnI,KAAW,SCFzB,GACbmG,UAAW,WACXC,MAAO,CACLnG,KAAM,GACNE,SAAS,IAEXkG,QAAS,CACNgC,MADM,qGAEO,OAFP,EACE5H,QAAa6H,EADf,EACeA,KAAM/B,EADrB,EACqBA,IADrB,SAEa+B,EAAKC,GAFlB,UAECC,EAFD,OAGL3D,QAAQC,IAAI0D,IACTA,EAJE,iBAKH,OALG,SAKGjC,EAAI,CAAE/F,KAAM,WAAYC,QAAS,CAAC+H,SALrC,OAMH,OANG,UAMGjC,EAAI,CAAE/F,KAAM,eAAgBC,QAAS,CAAC+H,SANzC,gCAQHlF,IAAQqC,MAAM,kCARX,2CAaN8C,UAbM,2GAoCL,OApCK,IAaMhI,QAAWC,EAbjB,EAaiBA,QAASJ,EAb1B,EAa0BA,IAAIK,EAb9B,EAa8BA,IAAW4F,EAbzC,EAayCA,IAC1CY,EAAU,GACXxG,EACEL,GACDI,EAAQgI,SAAQ,SAAA/G,GACd,IAAI,IAAIgH,EAAI,EAAEA,EAAIhH,EAAK6D,eAAenE,OAAOsH,IACxChH,EAAK6D,eAAemD,KAAOrI,GAC5B6G,EAAQyB,KAAKjH,MAOnBwF,EADU,QAAR7G,EACQI,EAAQmI,MAAK,SAACtI,EAAGuI,GAAJ,OAAUvI,EAAC,MAAYuI,EAAC,SAC9B,SAARxI,EACCI,EAAQmI,MAAK,SAACtI,EAAGuI,GAAJ,OAAUA,EAAC,MAAYvI,EAAC,SAGrCG,EAAQmI,MAAK,SAACtI,EAAGuI,GAAJ,OAAUvI,EAAC,GAASuI,EAAC,MAhC3C,SAoCCvC,EAAI,CACR/F,KAAM,UACNP,KAAK,YAAKkH,KAtCP,2CA0CTF,SAAU,CACR8B,SADQ,SACC3C,EAAO3F,GACdoE,QAAQC,IAAIrE,EAAQ,SADI,IAGjB+H,EAAO/H,EAAQA,QAAf+H,IACP,OAAO,2BACFpC,GADL,IAEEnG,KAAMuI,KAGVQ,aAVQ,SAUK5C,EAAO3F,GAAW,IACtB+H,EAAO/H,EAAQA,QAAf+H,IACP,OAAO,2BACFpC,GADL,IAEEjG,SAAUqI,KAGdS,OAjBQ,SAiBD7C,EAjBC,GAiBgB,IAAV3F,EAAS,EAATA,QACLR,EAAQmG,EAARnG,KACDkH,EAAUR,KAAKC,MAAMD,KAAKY,UAAUtH,IAM1C,OALAkH,EAAQzF,KAAI,SAACC,IACRA,EAAK2C,GAAK7D,EAAQiF,eACjB/D,EAAK8D,gBAGJ,CACLxF,KAAKkH,IAGTb,QA7BQ,SA6BAF,EA7BA,GA6BqB,IAAZ3F,EAAW,EAAXA,QAQf,MAAO,CACLR,KARcmG,EAAMnG,KAAKyB,KAAI,SAACC,GAC9B,OAAIA,EAAK2C,KAAO7D,EAAQiF,YAAc/D,EAAK8D,aAAe,GACxD9D,EAAK8D,eACE9D,GAEFA,OAMXuH,QAzCQ,SAyCA9C,EAAO3F,GACb,OAAO,2BACF2F,GADL,IAEEnG,KAAK,YAAKQ,EAAQR,W,SCzFpBkJ,EAAMC,IAAI,CACZC,QAASC,gBAEbH,EAAII,QAAO,kBAAM,cAAC,EAAD,OACjBJ,EAAIK,MAAMxJ,GACVmJ,EAAIK,MAAMxH,GACVmH,EAAIM,MAAM,W","file":"static/js/main.9f7eebfb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"dva\";\r\nimport { Menu, Row, Col  } from \"antd\";\r\nimport { ProjectOutlined } from \"@ant-design/icons\";\r\nimport  \"../App.css\";\r\n\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Header = ({ dispatch, products,staticData }) => {\r\n  const sizeList = ['S','M','L','XL','XXL']\r\n  const sortGoods = async (key) => {\r\n    await dispatch({\r\n      type: \"products/sortDatas\",\r\n      payload: {\r\n        product: products,\r\n        key,\r\n        bol:false\r\n      },\r\n    });\r\n  };\r\n  const sortBySize = async(key) => {\r\n    await dispatch({\r\n      type: \"products/sortDatas\",\r\n      payload: {\r\n        product: staticData,\r\n        key,\r\n        bol:true\r\n      },\r\n    })\r\n  }\r\n  return (\r\n    <Row  type=\"flex\"   className=\"header\">\r\n      <Col xs={22} sm={6} md={8} lg={15} className=\"headerLeft\">\r\n        <span style={{color:\"red\",fontWeight:\"500\"}}>{products.length}</span> Products found\r\n        </Col>\r\n\r\n      <Col xs={22} sm={10} md={10} lg={8}  className=\"headerRight\">\r\n        <Menu theme=\"light\" mode=\"horizontal\">\r\n          <SubMenu \r\n            title=\"Specified Size\"\r\n            style={{ color: \"#000\", fontSize: \"18px\" }}\r\n          >\r\n            {sizeList.map((item) => (<Menu.Item key={item + '*'} onClick={() => sortBySize(`${item}`)} >{item}</Menu.Item>))}\r\n          </SubMenu>\r\n          <SubMenu\r\n            icon={<ProjectOutlined />}\r\n            style={{ color: \"#000\", fontSize: \"18px\" }}\r\n            title=\"Order by\"\r\n          >\r\n            <Menu.Item key=\"setting:1\" onClick={() => sortGoods(\"\")}>\r\n              默认\r\n            </Menu.Item>\r\n            <Menu.Item key=\"setting:2\" onClick={() => sortGoods(\"asc\")}>\r\n              价格升序\r\n            </Menu.Item>\r\n            <Menu.Item key=\"setting:3\" onClick={() => sortGoods(\"desc\")}>\r\n              价格降序\r\n            </Menu.Item>\r\n          </SubMenu>\r\n        </Menu>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ products }) => ({\r\n  products: products.data,\r\n  staticData: products.shopData\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React, { useState,useEffect } from \"react\";\r\nimport { Drawer, List, Image, message } from \"antd\";\r\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport \"../App.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\nimport { connect } from \"dva\";\r\n\r\nconst Cart = ({ cart, dispatch }) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [check, setCheck] = useState(true)\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const total = cart\r\n    .reduce((total, item) => total + item.product.price * item.quantity, 0)\r\n    .toFixed(2);\r\n\r\n    useEffect(()=> {\r\n      if(window.localStorage.data){\r\n        dispatch({type:\"cart/setStorage\"})\r\n      }\r\n    },[])\r\n  return (\r\n    <>\r\n      <button className=\"cartBtn\" onClick={showDrawer}>\r\n        <ShoppingCartOutlined /><span className=\"showCount\">{cart.length}</span>\r\n      </button>\r\n      <div className=\"cartDiv\">\r\n        <Drawer\r\n          title={\r\n            <div>\r\n              <div className={visible ? \"countCart\" : \"\"}>\r\n                {cart.length}\r\n              </div>\r\n              <span className=\"titleCart\">\r\n                <ShoppingCartOutlined />\r\n                Cart\r\n              </span>\r\n            </div>\r\n          }\r\n          placement=\"right\"\r\n          closable={false}\r\n          onClose={onClose}\r\n          visible={visible}\r\n          width={\"35%\"}\r\n          footer={\r\n            <div style={{ height: \"100px\", position: \"relative\" }}>\r\n              <span className=\"totalTitle\">Total: </span>\r\n              <span className=\"totalNum\">$ {total}</span>\r\n              <br />\r\n              <button\r\n                onClick={() => {\r\n                  if(check){\r\n                    message.warn(`合计${total},再次点击即可结算`)\r\n                    setCheck(false)\r\n                    return\r\n                  }else {\r\n                    dispatch({\r\n                      type: \"cart/checkout\",\r\n                    })\r\n                    setCheck(true)\r\n                  }\r\n                   \r\n                }\r\n                  \r\n                }\r\n                disabled={cart.length === 0}\r\n                className=\"checkBtn\"\r\n              >\r\n                Check Out\r\n              </button>\r\n            </div>\r\n          }\r\n          headerStyle={{ textAlign: \"center\", backgroundColor: \"#1b1a20\" }}\r\n          bodyStyle={{ backgroundColor: \"#1b1a20\" }}\r\n          footerStyle={{ backgroundColor: \"#1b1a20\", color: \"#fff\" }}\r\n        >\r\n          {cart.length === 0 ? (\r\n            <h1 style={{ color: \"#fff\" }}>Your Shopping-Cart is empty!</h1>\r\n          ) : (\r\n            <div>\r\n              <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={cart}\r\n                renderItem={(item, index) => (\r\n                  <List.Item key={item.sku}>\r\n                    <Image\r\n                      src={`./img/${item.product.sku}_1.jpg`}\r\n                      className=\"cartImg\"\r\n                    />\r\n                    <div className=\"detail\">\r\n                      {item.product.title}\r\n                      <br />\r\n                      <span>\r\n                        {item.size} | {item.product.description}\r\n                      </span>\r\n                      <br />\r\n                      <span>quantity: {item.quantity}</span>\r\n                    </div>\r\n                    <div>\r\n                      <button\r\n                        className=\"btnDel\"\r\n                        onClick={() => {\r\n                          dispatch({\r\n                            type: \"cart/removeCart\",\r\n                            payload: {\r\n                              index: index,\r\n                              quantity:item.quantity\r\n                            },\r\n                          });\r\n                        }}\r\n                      >\r\n                        X\r\n                      </button>\r\n                      <p className=\"goodsPrice\">${item.product.price}</p>\r\n                      <p>\r\n                        <button\r\n                          className=\"btnDecrement\"\r\n                          onClick={() => {\r\n                            dispatch({\r\n                              type: \"cart/decreaseNum\",\r\n                              payload: {\r\n                                id: item.id,\r\n                                size: item.size,\r\n                                key: -1,\r\n                              },\r\n                            });\r\n                          }}\r\n                        >\r\n                          -\r\n                        </button>\r\n                        <button\r\n                          className=\"btnIncrement\"\r\n                          onClick={() => {\r\n                            dispatch({\r\n                              type: \"cart/increaseNum\",\r\n                              payload: {\r\n                                id: item.id,\r\n                                size: item.size,\r\n                                key: 1,\r\n                              },\r\n                            });\r\n                          }}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </p>\r\n                    </div>\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </div>\r\n          )}\r\n        </Drawer>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ cart }) => ({\r\n  cart: cart.data,\r\n});\r\nexport default connect(mapStateToProps)(Cart);\r\n","import React, { useEffect,useState } from \"react\";\r\nimport { Card, Popover, Button, Col, List, message, Spin, Row } from \"antd\";\r\nimport \"../App.css\";\r\nimport { connect } from \"dva\";\r\n\r\n\r\nconst { Meta } = Card;\r\n\r\nconst Products = ({ dispatch, products,cartData }) => {\r\n\r\n  const [load,setLoad] = useState(0)\r\n  useEffect(()=>{\r\n    dispatch({\r\n      type: \"products/fetch\",\r\n      payload:{}\r\n    });\r\n  },[cartData])\r\n\r\n  useEffect(async()=> {\r\n    await setLoad(1)\r\n    await dispatch({\r\n      type: \"products/fetch\",\r\n      payload: {page:1},\r\n    })\r\n    console.log('dispatchs');\r\n    if(window.localStorage.data){\r\n      dispatch({type:\"cart/setStorage\"})\r\n    }\r\n    await setLoad(0)\r\n\r\n  },[])\r\n\r\n  const shopList = (products || []).map((item,index) => {\r\n    return (\r\n      <Col\r\n        xs={20}\r\n        sm={10}\r\n        md={7}\r\n        lg={5}\r\n        key={index}\r\n        style={{ marginTop: \"15px\" }}\r\n      >\r\n        <Card\r\n          hoverable\r\n          cover={<img alt=\"ex\" src={`./img/${item.sku}_1.jpg`} />}\r\n          style={{ textAlign: \"center\",position:\"relative\" }}\r\n        >\r\n          {item.isFreeShipping?\r\n            <span className=\"freeShip\">Free Shipping</span>\r\n          :''}\r\n          <Meta title={item.title} />\r\n          <span className=\"contentLine\">————</span>\r\n          <br />\r\n          <span className=\"price\">$</span>\r\n          <span className=\"priceInt\">\r\n            {item.price - (item.price % 1)}\r\n          </span>\r\n          <span className=\"priceFloat\">\r\n            {item.price % 1 === 0\r\n              ? \"\"\r\n              : \".\" + item.price.toString().split(\".\")[1]}\r\n          </span>\r\n          <br />\r\n         \r\n          <Popover\r\n            content={\r\n              <List\r\n                size=\"small\"\r\n                dataSource={item.availableSizes}\r\n                renderItem={(size) => (\r\n                  <List.Item>\r\n                    <Button\r\n                      disabled={item.installments===0}\r\n                      onClick={() => {\r\n                        dispatch({\r\n                          type: \"cart/addCart\",\r\n                          payload: {\r\n                            product_id: item.id,\r\n                            quantity: item.installments > 0 ? 1 : 0,\r\n                            product: item,\r\n                            size: size,\r\n                          },\r\n                        });\r\n                        item.installments === 0\r\n                          ? message.error(\"库存不足\")\r\n                          : message.success(\"添加成功\");\r\n                      }}\r\n                      block\r\n                    >\r\n                      {size}\r\n                      {console.log(item.installments,'库存')}\r\n                    </Button>   \r\n                  </List.Item>\r\n                )}\r\n              />\r\n            }\r\n            title=\"选择你的尺码\"\r\n            trigger=\"click\"\r\n          >\r\n            <button\r\n              disabled={item.installments === 0}\r\n              className=\"contentBtn\"\r\n            >\r\n              Add to Car\r\n            </button>\r\n          </Popover>\r\n        </Card>\r\n      </Col>\r\n    )\r\n  })\r\n  \r\n\r\n  return (\r\n    <Row type=\"flex\" justify=\"space-around\" style={{ margin: \"20px 45px 0\" }}>\r\n     {\r\n      load ? \r\n      (  <div className='loading'>\r\n          <Spin size=\"large\" />\r\n         </div>) : shopList  \r\n    } \r\n    </Row>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ products,cart }) => ({\r\n  products: products.data,\r\n  cartData: cart.data\r\n});\r\n\r\nexport default connect(mapStateToProps)(Products);\r\n","import React from \"react\";\nimport 'antd/dist/antd.css';\nimport Header from \"./components/Header\";\nimport Cart from \"./components/Cart\";\nimport Contents from \"./components/Content\";\n\n\n\nfunction IndexPage() {\n  return (\n    <>\n      <Cart />\n      <Header/>\n      <Contents />\n    </>\n  );\n}\n\nexport default IndexPage;\n","import { message } from \"antd\";\r\nexport default {\r\n  namespace: \"cart\",\r\n  state: {\r\n    data: [],\r\n  },\r\n  effects: {\r\n    *addCart({ payload }, { put }) {\r\n      yield put({ type: \"products/addCart\", payload });\r\n      yield put({ type: \"saveItem\", payload });\r\n    },\r\n    *setStorage({payload},{put }){\r\n      yield put ({\r\n        type:\"storageData\",\r\n        cdata:{\r\n          _data: JSON.parse(window.localStorage.data)\r\n        }\r\n      })\r\n    },\r\n    *settlementData({payload},{put}){\r\n      yield put({type:\"settlement\"})\r\n    },\r\n    *decreaseNum({ payload },{put}) {\r\n      yield put({\r\n        type:'cutOne',\r\n        payload\r\n      })\r\n      yield put({\r\n        type:'products/addOne',\r\n        payload\r\n      })\r\n    },*increaseNum({payload}, {put}){\r\n      yield put ({\r\n        type:\"increment\",\r\n        payload\r\n      })\r\n    },*removeCart({payload}, {put}){\r\n      yield put ({\r\n        type:\"removeGood\",\r\n        payload\r\n      })\r\n    }\r\n  },\r\n  reducers: {\r\n    saveItem(state, { payload }) {\r\n      const {data} = state\r\n      let newData = [];\r\n      const finded = data.find(\r\n        (item) =>\r\n          item.product_id === payload.product_id && item.size === payload.size\r\n      );\r\n      if (finded) {\r\n        finded.quantity += payload.quantity;\r\n        newData = data.map((item) =>\r\n          item.product_id === finded.product_id && item.size === finded.size\r\n            ? finded\r\n            : item\r\n        );\r\n      } else {\r\n        newData = [...data, payload];\r\n      }\r\n      \r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    removeGood(state, { payload }) {\r\n      const {data} = state\r\n      data[payload.index].product.installments += payload.quantity\r\n      data.splice(payload.index, 1);\r\n      console.log(data);\r\n      \r\n      \r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n      return { \r\n        ...state,\r\n        data: [...data] };\r\n    },\r\n    increment(state, { payload }) {\r\n      const { data } = state;\r\n      const index = data.findIndex(\r\n        (item) => item.id === payload.id && item.size === payload.size\r\n      );\r\n      if (data[index].product.installments === 0) {\r\n        message.error(\"库存不足\");\r\n      } else {\r\n        data[index].quantity += payload.key;\r\n        data[index].product.installments -= payload.key;\r\n      }\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n\r\n      return { data: [...data] };\r\n    },\r\n    \r\n    storageData(state,{cdata}){\r\n      return {\r\n        data:cdata._data\r\n      }\r\n    },\r\n    settlement(state,{data}){\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n\r\n      return{\r\n        ...state,\r\n        data:data._data\r\n      }\r\n    },\r\n    checkout(state) {\r\n      const {data} = state\r\n      data.splice(0,data.length)\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n      return {\r\n        data: [...data],\r\n      };\r\n    },\r\n    cutOne(state,{payload}){\r\n      const { data } = state;\r\n      const index = data.findIndex(\r\n        (item) => item.id === payload.id && item.size === payload.size\r\n      );\r\n      if (data[index].quantity === 1) {\r\n        message.error(\"库存只有一件啦，不能再减了\");\r\n      } else {\r\n        data[index].quantity += payload.key;\r\n        data[index].product.installments -= payload.key;\r\n        console.log(data[index].product.installments);\r\n      }\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n\r\n      return { data: [...data] };\r\n    }\r\n  },\r\n};\r\n","import products from \"./shopdata.json\";\r\n// import axios from 'axios'\r\n\r\nexport const getProducts = () => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => resolve(products), 1000);\r\n  });\r\n};\r\n\r\n// export const getProducts = () => {\r\n//   axios.get(products).then(res=> console.log(res,'getshopping'))\r\n// }\r\n ","import * as api from \"../api/index\";\r\nimport {message} from 'antd'\r\n\r\nexport default {\r\n  namespace: \"products\",\r\n  state: {\r\n    data: [],\r\n    shopData:[]\r\n  },\r\n  effects: {\r\n    *fetch({ payload }, { call, put }) {\r\n      const res = yield call(api.getProducts);\r\n      console.log(res);\r\n      if(res){\r\n        yield put({ type: \"saveData\", payload: {res} });\r\n        yield put({ type: \"saveShopdata\", payload: {res} });\r\n      }else{\r\n        message.error(\"未找到数据\")\r\n      }\r\n      \r\n\r\n    },\r\n    *sortDatas({ payload: { product, key,bol } }, { put }) {\r\n      let newData = [];\r\n      if(bol){\r\n        if(key) {\r\n          product.forEach(item => {\r\n            for(let i = 0;i < item.availableSizes.length;i++){\r\n              if(item.availableSizes[i] === key){\r\n                newData.push(item)\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }else{\r\n        if (key === \"asc\") {\r\n          newData = product.sort((a, b) => a[\"price\"] - b[\"price\"]);\r\n        } else if (key === \"desc\") {\r\n          newData = product.sort((a, b) => b[\"price\"] - a[\"price\"]);\r\n        }\r\n        else {    \r\n          newData = product.sort((a, b) => a[\"id\"] - b[\"id\"]);\r\n        }\r\n      }\r\n      \r\n      yield put({\r\n        type: \"setData\",\r\n        data: [...newData],\r\n      });\r\n    },\r\n  },\r\n  reducers: {\r\n    saveData(state, payload ) {\r\n      console.log(payload,'12323');\r\n      \r\n      const {res} = payload.payload\r\n      return {\r\n        ...state,\r\n        data: res,\r\n      };\r\n    },\r\n    saveShopdata(state, payload ) {\r\n      const {res} = payload.payload\r\n      return {\r\n        ...state,\r\n        shopData: res,\r\n      };\r\n    },\r\n    addOne(state,{payload}){\r\n      const {data} = state\r\n      const newData = JSON.parse(JSON.stringify(data))\r\n      newData.map((item)=>{\r\n        if(item.id = payload.product_id){\r\n          ++item.installments\r\n        }\r\n      })\r\n      return {\r\n        data:newData\r\n      }\r\n    },\r\n    addCart(state, { payload }) {\r\n      const newData = state.data.map((item) => {\r\n        if (item.id === payload.product_id && item.installments > 0) {\r\n          item.installments--;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    setData(state, payload) {\r\n      return {\r\n        ...state,\r\n        data: [...payload.data],\r\n      };\r\n    },\r\n  },\r\n};\r\n","import dva from 'dva'\nimport App from './App';\nimport cart from './models/cart'\nimport products from './models/products'\nimport { createBrowserHistory as createHistory } from 'history'\n\nconst app = dva({\n    history: createHistory()\n});\napp.router(() => <App />);\napp.model(products);\napp.model(cart);\napp.start(\"#root\");"],"sourceRoot":""}
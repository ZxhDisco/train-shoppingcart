{"version":3,"sources":["components/Header.jsx","components/Cart.jsx","components/Content.jsx","App.js","models/cart.js","api/index.js","models/products.js","index.js"],"names":["SubMenu","Menu","connect","products","data","staticData","shopData","dispatch","sortGoods","key","a","type","payload","product","bol","sortBySize","className","xs","sm","md","lg","style","color","fontWeight","length","theme","mode","title","fontSize","Item","onClick","map","item","icon","ProjectOutlined","cart","useState","visible","setVisible","check","setCheck","resize","setReSize","total","reduce","price","quantity","toFixed","useEffect","window","addEventListener","document","documentElement","clientWidth","localStorage","ShoppingCartOutlined","placement","closable","onClose","width","footer","height","position","message","warn","disabled","headerStyle","textAlign","backgroundColor","bodyStyle","footerStyle","itemLayout","dataSource","renderItem","index","src","sku","size","description","id","Meta","Card","cartData","load","setLoad","page","shopList","marginTop","hoverable","cover","alt","isFreeShipping","toString","split","content","availableSizes","installments","product_id","error","success","block","trigger","justify","margin","IndexPage","Content","namespace","state","effects","addCart","put","setStorage","cdata","_data","JSON","parse","settlementData","decreaseNum","increaseNum","removeCart","reducers","saveItem","newData","finded","find","storage","stringify","setItem","removeGood","splice","console","log","increment","findIndex","storageData","settlement","checkout","cutOne","getProducts","axios","get","then","res","fetch","call","api","sortDatas","forEach","i","push","sort","b","saveData","saveShopdata","addOne","setData","app","dva","history","createHistory","router","model","start"],"mappings":"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","file":"static/js/main.bc413005.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"dva\";\r\nimport { Menu, Row, Col  } from \"antd\";\r\nimport { ProjectOutlined } from \"@ant-design/icons\";\r\nimport  \"../App.css\";\r\n\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Header = ({ dispatch, products,staticData }) => {\r\n  const sizeList = ['S','M','L','XL','XXL']\r\n  const sortGoods = async (key) => {\r\n    await dispatch({\r\n      type: \"products/sortDatas\",\r\n      payload: {\r\n        product: products,\r\n        key,\r\n        bol:false\r\n      },\r\n    });\r\n  };\r\n  const sortBySize = async(key) => {\r\n    await dispatch({\r\n      type: \"products/sortDatas\",\r\n      payload: {\r\n        product: staticData,\r\n        key,\r\n        bol:true\r\n      },\r\n    })\r\n  }\r\n  return (\r\n    <Row  type=\"flex\"   className=\"header\">\r\n      <Col xs={22} sm={6} md={8} lg={15} className=\"headerLeft\">\r\n        <span style={{color:\"red\",fontWeight:\"500\"}}>{products.length}</span> Products found\r\n        </Col>\r\n\r\n      <Col xs={22} sm={10} md={10} lg={8}  className=\"headerRight\">\r\n        <Menu theme=\"light\" mode=\"horizontal\">\r\n          <SubMenu \r\n            title=\"Specified Size\"\r\n            style={{ color: \"#000\", fontSize: \"18px\" }}\r\n          ><Menu.Item key=\"setting:4\" onClick={() => sortGoods(\"\")}>\r\n          ALL\r\n        </Menu.Item>\r\n            {sizeList.map((item) => (<Menu.Item key={item + '*'} onClick={() => sortBySize(`${item}`)} >{item}</Menu.Item>))}\r\n          </SubMenu>\r\n          <SubMenu\r\n            icon={<ProjectOutlined />}\r\n            style={{ color: \"#000\", fontSize: \"18px\" }}\r\n            title=\"Order by\"\r\n          >\r\n            <Menu.Item key=\"setting:1\" onClick={() => sortGoods(\"default\")}>\r\n              默认\r\n            </Menu.Item>\r\n            <Menu.Item key=\"setting:2\" onClick={() => sortGoods(\"asc\")}>\r\n              价格升序\r\n            </Menu.Item>\r\n            <Menu.Item key=\"setting:3\" onClick={() => sortGoods(\"desc\")}>\r\n              价格降序\r\n            </Menu.Item>\r\n          </SubMenu>\r\n        </Menu>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ products }) => ({\r\n  products: products.data,\r\n  staticData: products.shopData\r\n});\r\n\r\nexport default connect(mapStateToProps)(Header);\r\n","import React, { useState,useEffect } from \"react\";\r\nimport { Drawer, List, Image, message, Row, Col } from \"antd\";\r\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport \"../App.css\";\r\nimport 'antd/dist/antd.css';\r\n\r\nimport { connect } from \"dva\";\r\n\r\nconst Cart = ({ cart, dispatch }) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [check, setCheck] = useState(true)\r\n  const [resize, setReSize] =useState(1000)\r\n  \r\n  const total = cart\r\n    .reduce((total, item) => total + item.product.price * item.quantity, 0)\r\n    .toFixed(2);\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize',function(){\r\n      setReSize(document.documentElement.clientWidth);\r\n    })\r\n  }, [document.documentElement.clientWidth])\r\n\r\n  useEffect(()=> {\r\n    if(window.localStorage.data){\r\n      dispatch({type:\"cart/setStorage\"})\r\n    }\r\n  },[])\r\n\r\n  return (\r\n    <>\r\n      <button className=\"cartBtn\" onClick={showDrawer}>\r\n        <ShoppingCartOutlined /><span className=\"showCount\">{cart.length}</span>\r\n      </button>\r\n      <div >\r\n        <Drawer\r\n          title={\r\n            <div >\r\n              <div className=\"iconCart\">\r\n                <ShoppingCartOutlined />\r\n                <div className={visible ? \"countCart\" : \"\"}>\r\n                  {cart.length}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"titleCart\">\r\n                Cart\r\n              </div>\r\n            </div>\r\n          }\r\n          placement=\"right\"\r\n          closable={false}\r\n          onClose={onClose}\r\n          visible={visible}\r\n          width={resize>850 ? '35%':'75%'}\r\n          footer={\r\n            <div style={{ height: \"100px\", position: \"relative\" }}>\r\n              <span className=\"totalTitle\">Total: </span>\r\n              <span className=\"totalNum\">$ {total}</span>\r\n              <br />\r\n              <button\r\n                onClick={() => {\r\n                  if(check){\r\n                    message.warn(`合计${total},再次点击即可结算`)\r\n                    setCheck(false)\r\n                    return\r\n                  }else {\r\n                    dispatch({\r\n                      type: \"cart/checkout\",\r\n                    })\r\n                    setCheck(true)\r\n                  }\r\n                   \r\n                }\r\n                  \r\n                }\r\n                disabled={cart.length === 0}\r\n                className=\"checkBtn\"\r\n              >\r\n                Check Out\r\n              </button>\r\n            </div>\r\n          }\r\n          headerStyle={{ textAlign: \"center\", backgroundColor: \"#1b1a20\" }}\r\n          bodyStyle={{ backgroundColor: \"#1b1a20\" }}\r\n          footerStyle={{ backgroundColor: \"#1b1a20\", color: \"#fff\" }}\r\n        >\r\n          {cart.length === 0 ? (\r\n            <h1 style={{ color: \"#fff\" }}>Your Shopping-Cart is empty!</h1>\r\n          ) : (\r\n            <Row>\r\n              <List\r\n                itemLayout=\"horizontal\"\r\n                dataSource={cart}\r\n                renderItem={(item, index) => (                 \r\n                  <List.Item key={item.sku}>\r\n                    <Col xs={5}>\r\n                      <Image\r\n                          src={`./img/${item.product.sku}_1.jpg`}\r\n                        />\r\n                    </Col>\r\n                    <Col xs={12} className=\"detail\">\r\n                      {item.product.title}\r\n                      <br />\r\n                      <span>\r\n                        {item.size} | {item.product.description}\r\n                      </span>\r\n                      <br />\r\n                      <span>quantity: {item.quantity}</span>\r\n                    </Col>\r\n                    <Col xs={5}>\r\n                      <button\r\n                        className=\"btnDel\"\r\n                        onClick={() => {\r\n                          dispatch({\r\n                            type: \"cart/removeCart\",\r\n                            payload: {\r\n                              index: index,\r\n                              quantity:item.quantity\r\n                            },\r\n                          });\r\n                        }}\r\n                      >\r\n                        X\r\n                      </button>\r\n                      <p className=\"goodsPrice\">${item.product.price}</p>\r\n                      <p>\r\n                        <button\r\n                          className=\"btnDecrement\"\r\n                          onClick={() => {\r\n                            dispatch({\r\n                              type: \"cart/decreaseNum\",\r\n                              payload: {\r\n                                id: item.id,\r\n                                size: item.size,\r\n                                key: -1,\r\n                              },\r\n                            });\r\n                          }}\r\n                        >\r\n                          -\r\n                        </button>\r\n                        <button\r\n                          className=\"btnIncrement\"\r\n                          onClick={() => {\r\n                            dispatch({\r\n                              type: \"cart/increaseNum\",\r\n                              payload: {\r\n                                id: item.id,\r\n                                size: item.size,\r\n                                key: 1,\r\n                              },\r\n                            });\r\n                          }}\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </p>\r\n                    </Col>\r\n                  </List.Item>\r\n                )}\r\n              />\r\n            </Row>\r\n          )}\r\n        </Drawer>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ cart }) => ({\r\n  cart: cart.data,\r\n});\r\nexport default connect(mapStateToProps)(Cart);\r\n","import React, { useEffect,useState } from \"react\";\r\nimport { Card, Popover, Button, Col, List, message, Spin, Row } from \"antd\";\r\nimport \"../App.css\";\r\nimport { connect } from \"dva\";\r\n\r\n\r\nconst { Meta } = Card;\r\n\r\nconst Products = ({ dispatch, products,cartData }) => {\r\n\r\n  const [load,setLoad] = useState(0)\r\n  useEffect(()=>{\r\n    dispatch({\r\n      type: \"products/fetch\",\r\n      payload:{}\r\n    });\r\n  },[cartData])\r\n\r\n  useEffect(async()=> {\r\n    await setLoad(1)\r\n    await dispatch({\r\n      type: \"products/fetch\",\r\n      payload: {page:1},\r\n    })\r\n    if(window.localStorage.data){\r\n      dispatch({type:\"cart/setStorage\"})\r\n    }\r\n    await setLoad(0)\r\n\r\n  },[])\r\n\r\n  const shopList = (products || []).map((item,index) => {\r\n    return (\r\n      <Col\r\n        xs={20}\r\n        sm={10}\r\n        md={7}\r\n        lg={5}\r\n        key={index}\r\n        style={{ marginTop: \"15px\" }}\r\n      >\r\n        <Card\r\n          hoverable\r\n          cover={<img alt=\"ex\" src={`./img/${item.sku}_1.jpg`} />}\r\n          style={{ textAlign: \"center\",position:\"relative\" }}\r\n        >\r\n          {item.isFreeShipping?\r\n            <span className=\"freeShip\">Free Shipping</span>\r\n          :''}\r\n          <Meta title={item.title} />\r\n          <span className=\"contentLine\">————</span>\r\n          <br />\r\n          <span className=\"price\">$</span>\r\n          <span className=\"priceInt\">\r\n            {item.price - (item.price % 1)}\r\n          </span>\r\n          <span className=\"priceFloat\">\r\n            {item.price % 1 === 0\r\n              ? \".00\"\r\n              : \".\" + item.price.toFixed(2).toString().split(\".\")[1] }\r\n          </span>\r\n          <br />\r\n         \r\n          <Popover\r\n            content={\r\n              <List\r\n                size=\"small\"\r\n                dataSource={item.availableSizes}\r\n                renderItem={(size) => (\r\n                  <List.Item>\r\n                    <Button\r\n                      disabled={item.installments===0}\r\n                      onClick={() => {\r\n                        dispatch({\r\n                          type: \"cart/addCart\",\r\n                          payload: {\r\n                            product_id: item.id,\r\n                            quantity: item.installments > 0 ? 1 : 0,\r\n                            product: item,\r\n                            size: size,\r\n                          },\r\n                        });\r\n                        item.installments === 0\r\n                          ? message.error(\"库存不足\")\r\n                          : message.success(\"添加成功\");\r\n                      }}\r\n                      block\r\n                    >\r\n                      {size}\r\n                    </Button>   \r\n                  </List.Item>\r\n                )}\r\n              />\r\n            }\r\n            title=\"选择你的尺码\"\r\n            trigger=\"click\"\r\n          >\r\n            <button\r\n              disabled={item.installments === 0}\r\n              className=\"contentBtn\"\r\n            >\r\n              Add to Car\r\n            </button>\r\n          </Popover>\r\n        </Card>\r\n      </Col>\r\n    )\r\n  })\r\n  \r\n\r\n  return (\r\n    <Row type=\"flex\" justify=\"space-around\" style={{ margin: \"20px 45px 0\" }}>\r\n     {\r\n      load ? \r\n      (  <div className='loading'>\r\n          <Spin size=\"large\" />\r\n         </div>) : shopList  \r\n    } \r\n    </Row>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ products,cart }) => ({\r\n  products: products.data,\r\n  cartData: cart.data\r\n});\r\n\r\nexport default connect(mapStateToProps)(Products);\r\n","import React from \"react\";\nimport 'antd/dist/antd.css';\nimport Header from \"./components/Header\";\nimport Cart from \"./components/Cart\";\nimport Contents from \"./components/Content\";\n\n\n\nfunction IndexPage() {\n  return (\n    <>\n      <Cart />\n      <Header/>\n      <Contents />\n    </>\n  );\n}\n\nexport default IndexPage;\n","import { message } from \"antd\";\r\nexport default {\r\n  namespace: \"cart\",\r\n  state: {\r\n    data: [],\r\n  },\r\n  effects: {\r\n    *addCart({ payload }, { put }) {\r\n      yield put({ type: \"products/addCart\", payload });\r\n      yield put({ type: \"saveItem\", payload });\r\n    },\r\n    *setStorage({payload},{put }){\r\n      yield put ({\r\n        type:\"storageData\",\r\n        cdata:{\r\n          _data: JSON.parse(window.localStorage.data)\r\n        }\r\n      })\r\n    },\r\n    *settlementData({payload},{put}){\r\n      yield put({type:\"settlement\"})\r\n    },\r\n    *decreaseNum({ payload },{put}) {\r\n      yield put({\r\n        type:'cutOne',\r\n        payload\r\n      })\r\n      yield put({\r\n        type:'products/addOne',\r\n        payload\r\n      })\r\n    },*increaseNum({payload}, {put}){\r\n      yield put ({\r\n        type:\"increment\",\r\n        payload\r\n      })\r\n    },*removeCart({payload}, {put}){\r\n      yield put ({\r\n        type:\"removeGood\",\r\n        payload\r\n      })\r\n    }\r\n  },\r\n  reducers: {\r\n    saveItem(state, { payload }) {\r\n      const {data} = state\r\n      let newData = [];\r\n      const finded = data.find(\r\n        (item) =>\r\n          item.product_id === payload.product_id && item.size === payload.size\r\n      );\r\n      if (finded) {\r\n        finded.quantity += payload.quantity;\r\n        newData = data.map((item) =>\r\n          item.product_id === finded.product_id && item.size === finded.size\r\n            ? finded\r\n            : item\r\n        );\r\n      } else {\r\n        newData = [...data, payload];\r\n      }\r\n      \r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    removeGood(state, { payload }) {\r\n      const {data} = state\r\n      data[payload.index].product.installments += payload.quantity\r\n      data.splice(payload.index, 1);\r\n      console.log(data);\r\n      \r\n      \r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n      return { \r\n        ...state,\r\n        data: [...data] };\r\n    },\r\n    increment(state, { payload }) {\r\n      const { data } = state;\r\n      const index = data.findIndex(\r\n        (item) => item.id === payload.id && item.size === payload.size\r\n      );\r\n      if (data[index].product.installments === 0) {\r\n        message.error(\"库存不足\");\r\n      } else {\r\n        data[index].quantity += payload.key;\r\n        data[index].product.installments -= payload.key;\r\n      }\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n\r\n      return { data: [...data] };\r\n    },\r\n    \r\n    storageData(state,{cdata}){\r\n      return {\r\n        data:cdata._data\r\n      }\r\n    },\r\n    settlement(state,{data}){\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n\r\n      return{\r\n        ...state,\r\n        data:data._data\r\n      }\r\n    },\r\n    checkout(state) {\r\n      const {data} = state\r\n      data.splice(0,data.length)\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n      return {\r\n        data: [...data],\r\n      };\r\n    },\r\n    cutOne(state,{payload}){\r\n      const { data } = state;\r\n      const index = data.findIndex(\r\n        (item) => item.id === payload.id && item.size === payload.size\r\n      );\r\n      if (data[index].quantity === 1) {\r\n        message.error(\"库存只有一件啦，不能再减了\");\r\n      } else {\r\n        data[index].quantity += payload.key;\r\n        data[index].product.installments -= payload.key;\r\n        console.log(data[index].product.installments);\r\n      }\r\n      const storage = window.localStorage\r\n      let _data = JSON.stringify(data)\r\n      storage.setItem(\"data\",_data)\r\n\r\n      return { data: [...data] };\r\n    }\r\n  },\r\n};\r\n","import products from \"./shopdata.json\";\r\nimport axios from 'axios'\r\n\r\n// export const getProducts = () => {\r\n//   return new Promise((resolve) => {\r\n//     setTimeout(() => resolve(products), 1000);\r\n//   });\r\n// };\r\n\r\nexport const getProducts = async () => {\r\n  return await axios.get('https://www.fastmock.site/mock/b3fb1711049eb284f006b4d4f1e2664b/shop/api/shop')\r\n  .then(res=>{\r\n    console.log(res.data);\r\n    \r\n    return res.data\r\n  })\r\n   \r\n}\r\n ","import * as api from \"../api/index\";\r\nimport {message} from 'antd'\r\n\r\nexport default {\r\n  namespace: \"products\",\r\n  state: {\r\n    data: [],\r\n    shopData:[]\r\n  },\r\n  effects: {\r\n    *fetch({ payload }, { call, put }) {\r\n      const res = yield call(api.getProducts);\r\n      if(res){\r\n        yield put({ type: \"saveData\", payload: {res} });\r\n        yield put({ type: \"saveShopdata\", payload: {res} });\r\n      }else{\r\n        message.error(\"未找到数据\")\r\n      }\r\n      \r\n\r\n    },\r\n    *sortDatas({ payload: { product, key,bol } }, { put }) {\r\n      let newData = [];\r\n      if(bol){\r\n        if(key) {\r\n          product.forEach(item => {\r\n            for(let i = 0;i < item.availableSizes.length;i++){\r\n              if(item.availableSizes[i] === key){\r\n                newData.push(item)\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }else{\r\n        if (key === \"asc\") {\r\n          newData = product.sort((a, b) => a[\"price\"] - b[\"price\"]);\r\n        } else if (key === \"desc\") {\r\n          newData = product.sort((a, b) => b[\"price\"] - a[\"price\"]);\r\n        } else if (key === \"default\"){\r\n          newData = product.sort((a, b) => b[\"id\"] - a[\"id\"]);\r\n        }\r\n        else {    \r\n          yield put({ type: \"fetch\" });\r\n        }\r\n      }\r\n      \r\n      yield put({\r\n        type: \"setData\",\r\n        data: [...newData],\r\n      });\r\n    },\r\n  },\r\n  reducers: {\r\n    saveData(state, payload ) {      \r\n      const { res } = payload.payload\r\n      return {\r\n        ...state,\r\n        data: res,\r\n      };\r\n    },\r\n    saveShopdata(state, payload ) {\r\n      const { res } = payload.payload\r\n      return {\r\n        ...state,\r\n        shopData: res,\r\n      };\r\n    },\r\n    addOne(state,{payload}){\r\n      const {data} = state\r\n      const newData = JSON.parse(JSON.stringify(data))\r\n      newData.map((item)=>{\r\n        if(item.id = payload.product_id){\r\n          ++item.installments\r\n        }\r\n      })\r\n      return {\r\n        data:newData\r\n      }\r\n    },\r\n    addCart(state, { payload }) {\r\n      const newData = state.data.map((item) => {\r\n        if (item.id === payload.product_id && item.installments > 0) {\r\n          item.installments--;\r\n          return item;\r\n        }\r\n        return item;\r\n      });\r\n      return {\r\n        data: newData,\r\n      };\r\n    },\r\n    setData(state, payload) {\r\n      return {\r\n        ...state,\r\n        data: [...payload.data],\r\n      };\r\n    },\r\n  },\r\n};\r\n","import dva from 'dva'\nimport App from './App';\nimport cart from './models/cart'\nimport products from './models/products'\nimport { createBrowserHistory as createHistory } from 'history'\n\nconst app = dva({\n    history: createHistory()\n});\napp.router(() => <App />);\napp.model(products);\napp.model(cart);\napp.start(\"#root\");"],"sourceRoot":""}